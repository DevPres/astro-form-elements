---
import { BaseInput, BaseCheckbox } from "astro-form-elements/components"; 


 
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>Astro</title>
  </head>
  <body>
    <BaseInput formElementName="test" label="test"/>
    <BaseCheckbox formElementName="test2" label="this is a checkbox"/>
    <div id="id"></div>
    <!-- <form-element formElementName="test" id='idtest'></form-element> -->
   <!--  <form-element formElementName='test2'></form-element>
    <form-element formElementName="test2" ></form-element>
    -->
    <!--  <Child/>  --> 
    <button id="btn" disabled>test</button>
  </body>

  <script>

    
    import FormElements from "astro-form-elements/form-elements-service";
    
    window.addEventListener('load', () => {
     
      const test = FormElements.get('test');
      const button = document.getElementById('btn') as HTMLButtonElement
     console.log(test)
  
      test?.valueChanges().subscribe((x) => {
        console.log(x)
        if(x.eventType === 'input') {
          button.disabled = false 
        }
        console.dir(test)
      })
    })
    
    

  






</script>
</html>
