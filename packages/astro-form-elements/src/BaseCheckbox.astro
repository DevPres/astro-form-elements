---
//https://docs.astro.build/en/guides/typescript/#built-in-html-attributes
import type { HTMLAttributes } from "astro/types";
import { createDatasetFromAstroProps, generateRandomUUID } from './utils'

interface Props extends HTMLAttributes<"input"> {
  label?: string;
  formElementName: string;
}

const { formElementName,label, name, value, type = "text", placeholder = " " , ...rest } = Astro.props;
//const dataset = createDatasetFromAstroProps<Props>(Astro.props);

const events = {
  emitOn: {
    focus: true,
    blur: true,
    change: true,
  },
  custom: () => { console.log(this)} 
}

---
  <form-element formElementName={formElementName} events={events}>
    { !!label ? <label for={formElementName}>{label}</label> : ''}
    <input data-elementInput id="test"  name={formElementName} type="checkbox"   />
  </form-element>

  <script>
    //console.log('script base checkbox')
    const checkbox = document.getElementById("test") as HTMLInputElement;
    checkbox?.addEventListener('focus', (e) => {
      //console.log('focus event')
    })
    checkbox?.addEventListener('blur', (e) => {
      //console.log('blur event', e)
    })
    checkbox?.focus()
    

  </script>


  